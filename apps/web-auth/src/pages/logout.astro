---
const returnTo = Astro.url.searchParams.get('returnTo') || 'http://localhost:4323/login';

// Clear the centralized session cookie
Astro.cookies.delete('japi_token', { path: '/' });

// Anti-Cache
Astro.response.headers.set('Cache-Control', 'no-store, no-cache, must-revalidate');
Astro.response.headers.set('Pragma', 'no-cache');
Astro.response.headers.set('Expires', '0');

return Astro.redirect(returnTo);
---
